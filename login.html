<!DOCTYPE html>
<html lang="sr">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Login</title>
      <script type="module" src="firebase.mjs"></script>
      <style>
         @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
         * {
         box-sizing: border-box;
         margin: 0;
         padding: 0;
         }
         body {
         font-family: 'Plus Jakarta Sans', 'Avenir Next', 'Segoe UI', sans-serif;
         background:
           radial-gradient(1000px 360px at 0% 0%, rgba(11, 102, 184, 0.2), transparent 50%),
           radial-gradient(900px 300px at 100% 100%, rgba(14, 165, 166, 0.16), transparent 45%),
           linear-gradient(180deg, #eaf5ff 0%, #f4fffb 100%);
         min-height: 100vh;
         display: flex;
         align-items: center;
         justify-content: center;
         padding: 20px;
         }
         .login-container {
         max-width: 400px;
         width: 100%;
         }
         .logo {
         text-align: center;
         font-size: 48px;
         margin-bottom: 30px;
         text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
         }
         .card {
         background: white;
         border-radius: 16px;
         padding: 40px;
         box-shadow: 0 22px 56px rgba(15, 23, 42, 0.16);
         border: 1px solid #dce7f5;
         animation: slideUp 0.4s ease;
         }
         @keyframes slideUp {
         from {
         transform: translateY(30px);
         opacity: 0;
         }
         to {
         transform: translateY(0);
         opacity: 1;
         }
         }
         h1 {
         font-size: 28px;
         margin-bottom: 30px;
         color: #2d3436;
         text-align: center;
         font-weight: 700;
         }
         .input-wrap {
         margin-bottom: 20px;
         width: 100%;
         }
         .input-wrap label {
         display: block;
         font-size: 13px;
         font-weight: 600;
         color: #636e72;
         margin-bottom: 8px;
         }
         input {
         padding: 14px 14px;
         width: 100%;
         border: 1.5px solid #cdddf0;
         border-radius: 12px;
         font-size: 16px;
         outline: none;
         font-family: inherit;
         transition: all 0.3s ease;
         background: #fbfdff;
         color: #1e293b;
         }
         input::placeholder {
         color: #94a3b8;
         }
         input:focus {
         border-color: #0b66b8;
         box-shadow: 0 0 0 4px rgba(11, 102, 184, 0.12);
         background: #fff;
         }
         .password-field {
         position: relative;
         }
         .password-field input {
         padding-right: 52px;
         }
         .toggle {
         position: absolute;
         right: 12px;
         top: 50%;
         transform: translateY(-50%);
         cursor: pointer;
         font-size: 22px;
         color: #636e72;
         user-select: none;
         transition: all 0.2s ease;
         border: 1px solid transparent;
         border-radius: 10px;
         background: transparent;
         width: 36px;
         height: 36px;
         min-width: 36px;
         padding: 0;
         display: inline-flex;
         align-items: center;
         justify-content: center;
         z-index: 2;
         }
         .toggle:hover {
         color: #2d3436;
         transform: translateY(-50%) scale(1.08);
         background: #eef5ff;
         border-color: #d5e4f8;
         }
         button {
         padding: 16px;
         width: 100%;
         border: none;
         border-radius: 12px;
         cursor: pointer;
         font-size: 16px;
         font-weight: 700;
         transition: all 0.3s ease;
         text-transform: uppercase;
         letter-spacing: 0.5px;
         }
         .login-btn {
         background: linear-gradient(135deg, #0b66b8 0%, #0ea5a6 100%);
         color: white;
         box-shadow: 0 8px 20px rgba(11, 102, 184, 0.2);
         margin: 4px 0 10px;
         }
         .login-btn:hover {
         box-shadow: 0 10px 24px rgba(11, 102, 184, 0.24);
         transform: translateY(-2px);
         }
         .login-btn:active {
         transform: translateY(0);
         }
         .back-btn {
         background: transparent;
         color: #636e72;
         border: 2px solid #e0e0e0;
         font-weight: 600;
         text-transform: none;
         letter-spacing: normal;
         margin-top: 2px;
         }
         .back-btn:hover {
         background: #f8f9fa;
         color: #2d3436;
         border-color: #b2bec3;
         transform: translateY(-2px);
         }
         /* MOBILE STYLES */
         @media (max-width: 768px) {
         body {
         padding: 15px;
         }
         .logo {
         font-size: 40px;
         margin-bottom: 25px;
         }
         .card {
         padding: 30px;
         border-radius: 12px;
         }
         h1 {
         font-size: 24px;
         margin-bottom: 25px;
         }
         input {
         padding: 14px;
         }
         .password-field input {
         padding-right: 46px;
         }
         .toggle {
         font-size: 20px;
         width: 32px;
         height: 32px;
         min-width: 32px;
         }
         }
         @media (max-width: 480px) {
         .logo {
         font-size: 36px;
         margin-bottom: 20px;
         }
         .card {
         padding: 25px;
         }
         h1 {
         font-size: 22px;
         margin-bottom: 20px;
         }
         input {
         padding: 12px;
         }
         .password-field input {
         padding-right: 42px;
         }
         button {
         padding: 14px;
         }
         }
         button:focus-visible,
         input:focus-visible {
         outline: 3px solid #0b66b8;
         outline-offset: 2px;
         }
         @media (prefers-reduced-motion: reduce) {
         * {
         animation: none !important;
         transition: none !important;
         scroll-behavior: auto !important;
         }
         }
      </style>
   </head>
   <body>
      <div class="login-container">
         <div class="logo">‚öΩ</div>
         <div class="card">
            <h1>Admin Login</h1>
            <div class="input-wrap">
               <label for="email">Email</label>
               <input id="email" type="email" placeholder="Email" autocomplete="username" required>
            </div>
            <div class="input-wrap">
               <label for="password">Lozinka</label>
               <div class="password-field">
                  <input id="password" type="password" placeholder="Lozinka" autocomplete="current-password" required>
                  <button type="button" id="togglePass" class="toggle" aria-label="Prika≈æi lozinku">üëÅÔ∏è</button>
               </div>
            </div>
            <button type="button" id="loginBtn" class="login-btn">Uƒëi</button>
            <button type="button" id="backBtn" class="back-btn">Nazad na poƒçetnu</button>
         </div>
      </div>
      <script type="module">
         window.login = function () {
           console.log("LOGIN CLICKED");
            
           const email = document.getElementById("email").value;
           const password = document.getElementById("password").value;
         
            console.log("EMAIL:", email);
         
          window.loginAdmin(email, password)
         .then(() => {
         console.log("LOGIN OK");
         window.location.href = "admin.html";
         })
         .catch(err => {
         console.error("LOGIN ERROR:", err.code, err.message);
         alert(err.code);
         });
            };
         
       
         /* ENTER za login */
         document.getElementById("password").addEventListener("keydown", e => {
           if (e.key === "Enter") window.login();
         });
         
         /* show / hide password */
         document.getElementById("togglePass").onclick = function () {
           const inp = document.getElementById("password");
           if (inp.type === "password") {
             inp.type = "text";
             this.textContent = "üôà";
             this.setAttribute("aria-label", "Sakrij lozinku");
           } else {
             inp.type = "password";
             this.textContent = "üëÅÔ∏è";
             this.setAttribute("aria-label", "Prika≈æi lozinku");
           }
         };
         
         document.getElementById("loginBtn").addEventListener("click", window.login);
         document.getElementById("backBtn").addEventListener("click", () => {
           window.location.href = "index.html";
         });
      </script>
   </body>
</html>
